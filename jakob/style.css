:root{
  --bg:#111;
  --panel:#222;
  --panel2:#2a2a2a;
  --text:#f4f4f4;
  --accent:#1e90ff;
  --accent2:#16f3f8;
  --glow: rgba(255,0,0,.7);

  /* feedback colors */
  --good:#16f3f8;   /* +10 */
  --meh:#ffd84d;    /* 0 */
  --bad:#ff4d4d;    /* -10 */

  /* wizard size (tweak this only) */
  --wiz-size: 64px;
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0; padding:20px; background:var(--bg); color:var(--text);
  font-family:'Courier New', monospace; line-height:1.6; display:flex; justify-content:center;
}

#game-container{
  width:100%; max-width:900px; background:var(--panel); padding:28px; border-radius:12px;
  box-shadow:0 0 15px var(--glow);
}

h1{margin:0 0 6px 0; text-align:center; text-shadow:0 0 6px #fdd}
h2{margin:0 0 18px 0; text-align:center; color:var(--accent2); text-shadow:0 0 6px #0ff}

/* ---------- Toolbar + HUD ---------- */
#toolbar{
  display:flex;
  align-items:center;
  gap:12px;
  justify-content:flex-start;
  margin-bottom:16px;
  flex-wrap:nowrap;              /* desktop: one line */
  overflow:hidden;
}

#teacher-badge,#score-badge{
  background:#333; padding:8px 12px; border:1px solid #444;
  border-radius:10px; font-weight:700; font-size:14px; flex-shrink:0;
}

#toolbar .spacer{flex:1 1 auto}  /* push "Home" to the right */

#toolbar .ghost{
  background:transparent; color:#fff; border:1px solid #555;
  padding:8px 12px; border-radius:10px; cursor:pointer; flex-shrink:0;
}
#toolbar .ghost:hover{border-color:#777}

/* ---------- Feedback HUD ---------- */
#feedback{
  display:flex; align-items:center; gap:10px;
  padding:10px 14px; border-radius:12px; font-size:15px; line-height:1.5;
  flex:1; min-width:0; background:var(--panel); border:1px solid #333;
  transition: all 0.25s ease;
}

/* MR Wizard avatar container */
#coach-icon{
  width:var(--wiz-size); height:var(--wiz-size);
  flex-shrink:0; display:flex; align-items:center; justify-content:center;
  border-radius:8px; overflow:hidden; background:#222; border:2px solid transparent;
  transition: all 0.25s ease;
}
#coach-img{
  width:100%; height:100%; display:block;
  image-rendering:pixelated; image-rendering:crisp-edges;
}

/* Feedback text wraps */
#feedback-text{
  flex:1; overflow:hidden; white-space:normal; word-wrap:break-word;
}

/* ---------- Dynamic Feedback States ---------- */
#feedback.state-plus{
  border-color:var(--good);
  box-shadow:0 0 12px rgba(22,243,248,.3), inset 0 0 6px rgba(22,243,248,.15);
  color:#e6fdff;
}
#feedback.state-plus #coach-icon{
  border-color:var(--good);
  box-shadow:0 0 14px rgba(22,243,248,.6);
}

#feedback.state-meh{
  border-color:var(--meh);
  box-shadow:0 0 12px rgba(255,216,77,.3), inset 0 0 6px rgba(255,216,77,.15);
  color:#fff7d6;
}
#feedback.state-meh #coach-icon{
  border-color:var(--meh);
  box-shadow:0 0 14px rgba(255,216,77,.6);
}

#feedback.state-minus{
  border-color:var(--bad);
  box-shadow:0 0 12px rgba(255,77,77,.3), inset 0 0 6px rgba(255,77,77,.15);
  color:#ffe0e0;
}
#feedback.state-minus #coach-icon{
  border-color:var(--bad);
  box-shadow:0 0 14px rgba(255,77,77,.6);
}

/* Flash animation for feedback update */
.flash{animation:flash .25s ease-out;}
@keyframes flash{
  from{transform:scale(1.02); opacity:0.85;}
  to{transform:scale(1); opacity:1;}
}

/* ---------- Story + Choices ---------- */
#story-text{
  background:#333; padding:18px; border-radius:10px;
  min-height:110px; margin-bottom:14px; white-space:pre-wrap;
}

#choices{display:grid; gap:10px}
#choices button{
  background:var(--accent); border:2px solid #111; color:#fff; padding:12px 14px; border-radius:10px;
  text-align:left; font-weight:700; cursor:pointer; transition:transform .12s ease, background .12s ease;
}
#choices button:hover{background:var(--accent2); color:#000; transform:translateY(-2px)}

#points.flash{animation:pop .35s ease}
@keyframes pop{0%{transform:scale(1)}30%{transform:scale(1.25)}100%{transform:scale(1)}}

#session-summary{
  background:var(--panel2); border:1px solid #444;
  border-radius:10px; padding:12px 14px; margin:14px 0 10px;
}

/* ---------- Responsive tweaks ---------- */
@media (max-width: 860px){
  :root{ --wiz-size: 56px; }
  #toolbar{ gap:10px; }
}

@media (max-width: 680px){
  :root{ --wiz-size: 48px; }
  #toolbar{
    flex-wrap:wrap;                 /* allow wrapping on phones */
    align-items:flex-start;
    gap:10px 8px;
  }
  #feedback{
    flex-basis:100%;                /* feedback becomes a full-width row */
    order:3;
  }
  #toolbar .spacer{ display:none; } /* avoid odd gaps when wrapped */
  #teacher-badge,#score-badge{ font-size:13px; }
  #toolbar .ghost{ order:4; }       /* keep Home last */
}

/* --- Toolbar: make feedback stretch to the Home button on any width --- */
#toolbar{
  display:flex;
  align-items:center;
  gap:12px;
  flex-wrap:nowrap;             /* single row on desktops */
}

/* kill the spacer so it doesn't steal width */
#toolbar .spacer{ display:none; }

/* let the feedback pod grow and wrap text if needed */
#feedback{
  flex:1 1 auto;                /* ‚Üê fills everything between score and Home */
  min-width:0;                  /* allow text wrapping instead of overflow */
}

/* push Home to the far-right edge */
#toolbar .ghost{
  margin-left:auto;             /* ‚Üê pins Home to the right */
  flex-shrink:0;
}

/* ---------- Responsive behavior on phones ---------- */
@media (max-width: 680px){
  #toolbar{ 
    flex-wrap:wrap;             /* allow multiple lines on small screens */
    align-items:flex-start;
    gap:10px 8px;
  }

  /* Show badges first, Home next, feedback as a full-width row */
  #teacher-badge{ order:1; }
  #score-badge{ order:2; }
  #toolbar .ghost{ order:3; margin-left:0; }  /* remove auto push once wrapped */
  #feedback{ order:4; flex:1 1 100%; }        /* feedback becomes its own row */
}

/* --- Mission cards (intro menu) --- */
.mission-intro { background:#333; padding:18px; border-radius:10px; margin-bottom:14px; }
.mission-grid {
  display:grid; gap:12px;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}
.mission-card {
  background:#2a2a2a; border:1px solid #444; border-radius:10px; padding:14px;
  display:flex; flex-direction:column; gap:10px;
}
.mission-card h3 { margin:0; color:#fff; }
.mission-card p  { margin:0; font-size:14px; color:#ddd; opacity:.9; }
.mission-card .action { margin-top:auto; }
.mission-card .action button { width:100%; }

/* Keep your regular scenario buttons full-width too */
#choices { display:grid; grid-template-columns:1fr; gap:10px; }
#choices button { width:100%; display:block; }

/* --- Optional polish for mission cards --- */
.mission-card .action button:hover {
  transform: translateY(-2px);
}

/* Add a little breathing room below the card section */
.mission-intro {
  margin-top: 6px;
}

/* ---------------------------
   üçé MOBILE OPTIMIZATION
   Only applies on screens <= 600px wide
--------------------------- */
@media (max-width: 600px) {

  body {
    padding: 10px;
  }

  #game-container {
    padding: 10px;
    margin: 0;
  }

  h1 {
    font-size: 1.6rem;
    text-align: center;
    line-height: 1.2;
  }

  #scenario-title {
    font-size: 1.2rem;
    text-align: center;
    margin-bottom: 10px;
  }

  /* Toolbar stacking */
  #toolbar {
    flex-direction: column;
    align-items: flex-start;
    gap: 6px;
  }

  #teacher-badge,
  #score-badge {
    font-size: 0.9rem;
    padding: 6px 10px;
  }

  /* Wizard pod */
  #feedback {
    flex-direction: column;
    text-align: center;
    gap: 8px;
    padding: 10px;
  }

  #coach-img {
    width: 48px;
    height: 48px;
  }

  #feedback-text {
    font-size: 0.95rem;
  }

  /* Story text center + spacing */
  #story-text {
    font-size: 1rem;
    padding: 14px;
    line-height: 1.4;
  }

  /* Options/buttons */
  .option-btn,
  .scenario-btn,
  .big,
  button {
    width: 100%;
    margin: 6px 0;
    padding: 12px;
    font-size: 1rem;
    text-align: center;
  }

  /* Mission cards */
  .mission-grid {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .mission-card {
    padding: 14px;
  }

  .mission-card h3 {
    font-size: 1.1rem;
  }

  .mission-card p {
    font-size: 0.9rem;
  }

  /* Summary box */
  #session-summary {
    font-size: 0.95rem;
    padding: 12px;
  }
}


